{
    "networks" : {
        "paper" : {
            "definition" : "C(5,5,1):R:P(5,5):C(5,3,1):R:P(2,2):F(100):R:F(100):R:F(100):R:F(2):S",
            "type"       : "bitwise",
            "inputs"     : 1
        },
        "paper_se" : {
            "definition" : "C(5,5,1):R:P(5,5):C(5,3,1):R:P(2,2):F(100):R:F(100):R:F(100):R:F(1)",
            "type"       : "single_ended",
            "inputs"     : 1
        },
        "deep" : {
            "definition" : "C(5,5,1):R:C(5,5,1):R:C(5,5,1):R:C(5,5,1):P(5,5):R:C(5,5,1):P(5,5):R:F(256):R:F(256):R:F(256):R:F(128):R:F(64):R:F(2):S",
            "type"       : "bitwise",
            "inputs"     : 1
        },
        "deep_se" : {
            "definition" : "C(5,5,1):R:C(5,5,1):R:C(5,5,1):R:C(5,5,1):P(5,5):R:C(5,5,1):P(5,5):R:F(512):R:F(256):R:F(256):R:F(256):R:F(128):R:F(64):R:F(1)",
            "type"       : "single_ended",
            "inputs"     : 1
        },
        "resnet101pt" : {
            "definition" : "predef::resnet101",
            "type"       : "bitwise",
            "inputs"     : 1,
            "weights"    : "DEFAULT"
        },
        "resnet101" : {
            "definition" : "predef::resnet101",
            "type"       : "bitwise",
            "preprocess" : "x.reshape((x.shape[0], 1, 1, x.shape[1])).repeat(1, 3, 1, 1)",
            "inputs"     : 1
        }
    },
    "datasets" : {
        "linearized3k" : {
            "path"    : "sky_Dec_18_2151",
            "type"    : "raw",
            "format"  : "sky_d(\\d+)_.*\\.txt",
            "columns" : 1,
            "len"     : 3000
        },
        "a1u_tt_lin" : {
            "path"    : "analog_1px_unprot_tt_Jan_28_1945",
            "type"    : "raw",
            "format"  : "sky_lin_d(\\d+)v.txt",
            "columns" : 1,
            "len"     : 2551
        },
        "a1u_tt_max" : {
            "path"    : "analog_1px_unprot_tt_Jan_28_1945",
            "type"    : "sampled",
            "format"  : "sky_raw_d(\\d+)v.txt",
            "columns" : 1,
            "sample_mode"     : "MAX",
            "sample_interval" : 0.1e-6,
            "sample_duration" : 255e-6
        },
        "a1u_tt_min" : {
            "path"    : "analog_1px_unprot_tt_Jan_28_1945",
            "type"    : "sampled",
            "format"  : "sky_raw_d(\\d+)v.txt",
            "columns" : 1,
            "sample_mode"     : "MIN",
            "sample_interval" : 0.1e-6,
            "sample_duration" : 255e-6
        },
        "a1u_tt_raw" : {
            "path"    : "analog_1px_unprot_tt_Jan_28_1945",
            "type"    : "timed",
            "format"  : "sky_raw_d(\\d+)v.txt",
            "columns" : 1
        },
        "a1u_ss_lin" : {
            "path"    : "analog_1px_unprot_ss_Jan_29_0103",
            "type"    : "raw",
            "format"  : "sky_lin_d(\\d+)v.txt",
            "columns" : 1,
            "len"     : 2561
        },
        "a1u_ss_max" : {
            "path"    : "analog_1px_unprot_ss_Jan_29_0103",
            "type"    : "sampled",
            "format"  : "sky_raw_d(\\d+)v.txt",
            "columns" : 1,
            "sample_mode"     : "MAX",
            "sample_interval" : 0.1e-6,
            "sample_duration" : 256e-6
        },
        "a1u_max" : {
            "paths"   : ["analog_1px_unprot_ss_Jan_29_0103", "analog_1px_unprot_ff_Jan_29_1818"],
            "type"    : "sampled",
            "format"  : "sky_raw_d(\\d+)v.txt",
            "columns" : 1,
            "sample_mode"     : "MAX",
            "sample_interval" : 0.1e-6,
            "sample_duration" : 256e-6
        },
        "a1u_ss_min" : {
            "path"    : "analog_1px_unprot_ss_Jan_29_0103",
            "type"    : "sampled",
            "format"  : "sky_raw_d(\\d+)v.txt",
            "columns" : 1,
            "sample_mode"     : "MIN",
            "sample_interval" : 0.1e-6,
            "sample_duration" : 256e-6
        },
        "a1u_ss_raw" : {
            "path"    : "analog_1px_unprot_ss_Jan_29_0103",
            "type"    : "timed",
            "format"  : "sky_raw_d(\\d+)v.txt",
            "columns" : 1
        },
        "a1u_ff_lin" : {
            "path"    : "analog_1px_unprot_ff_Jan_29_1818",
            "type"    : "raw",
            "format"  : "sky_lin_d(\\d+)v.txt",
            "columns" : 1,
            "len"     : 2561
        },
        "a1u_ff_max" : {
            "path"    : "analog_1px_unprot_ff_Jan_29_1818",
            "type"    : "sampled",
            "format"  : "sky_raw_d(\\d+)v.txt",
            "columns" : 1,
            "sample_mode"     : "MAX",
            "sample_interval" : 0.1e-6,
            "sample_duration" : 256e-6
        },
        "a1u_ff_min" : {
            "path"    : "analog_1px_unprot_ff_Jan_29_1818",
            "type"    : "sampled",
            "format"  : "sky_raw_d(\\d+)v.txt",
            "columns" : 1,
            "sample_mode"     : "MIN",
            "sample_interval" : 0.1e-6,
            "sample_duration" : 256e-6
        },
        "a1u_ff_raw" : {
            "path"    : "analog_1px_unprot_ff_Jan_29_1818",
            "type"    : "timed",
            "format"  : "sky_raw_d(\\d+)v.txt",
            "columns" : 1
        },
        "e1u_tt_lin" : {
            "path"    : "ece_1px_unprot_tt_hs_Jan_28_1834",
            "type"    : "raw",
            "format"  : "sky_lin_d(\\d+)v.txt",
            "columns" : 1,
            "len"     : 2551
        },
        "e1u_tt_max" : {
            "path"    : "ece_1px_unprot_tt_hs_Jan_28_1834",
            "type"    : "sampled",
            "format"  : "sky_raw_d(\\d+)v.txt",
            "columns" : 1,
            "sample_mode"     : "MAX",
            "sample_interval" : 0.1e-6,
            "sample_duration" : 255e-6
        },
        "e1u_tt_min" : {
            "path"    : "ece_1px_unprot_tt_hs_Jan_28_1834",
            "type"    : "sampled",
            "format"  : "sky_raw_d(\\d+)v.txt",
            "columns" : 1,
            "sample_mode"     : "MIN",
            "sample_interval" : 0.1e-6,
            "sample_duration" : 255e-6
        },
        "e1u_tt_raw" : {
            "path"    : "ece_1px_unprot_tt_hs_Jan_28_1834",
            "type"    : "timed",
            "format"  : "sky_raw_d(\\d+)v.txt",
            "columns" : 1
        }
    },
    "tests" : [
        {
            "desc"          : "Original testcase, based on paper network with linearized datasets",
            "skip"          : true,
            "networks"      : ["paper"],
            "datasets"      : ["linearized3k"],
            "learning_rate" : [0.0005]
        },
        {
            "desc"          : "Basic paper network on linearized and sampled datasets",
            "skip"          : true,
            "networks"      : ["paper"],
            "datasets"      : ["a1u_tt_lin", "a1u_tt_min", "a1u_tt_max", "e1u_tt_lin", "e1u_tt_min", "e1u_tt_max"],
            "learning_rate" : [0.0005, 0.0001, 0.001]
        },
        {
            "desc"          : "Basic paper network with single-output",
            "skip"          : false,
            "networks"      : ["paper"],
            "datasets"      : ["a1u_max"],
            "test_datasets" : ["a1u_ff_max"],
            "learning_rate" : [0.0005]
        },
        {
            "desc"          : "Basic deeper network on linearized and sampled datasets",
            "skip"          : true,
            "networks"      : ["deep"],
            "datasets"      : ["a1u_max"],
            "learning_rate" : [0.005]
        },
        {
            "desc"          : "Trying to get resnet to work",
            "skip"          : true,
            "networks"      : ["resnet101"],
            "datasets"      : ["a1u_tt_lin"],
            "learning_rate" : [1e-5]
        }
    ],
    "defaults" : {
        "optimizer"     : "Adam",
        "loss"          : "CrossEntropyLoss",
        "loss_se"       : "MSELoss",
        "learning_rate" : 0.0005,
        "max_epochs"    : 5000,
        "max_accuracy"  : 2.0,
        "max_loss"      : 0.0,
        "batch_size"    : 256
    }
}
